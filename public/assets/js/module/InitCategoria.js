import Api from"./Api.js";export default function InitCategoria(){document.querySelector("#listaProdutos")&&pegaId()}function pegaId(){const t=window.location.search.includes("id=")?window.location.search.split("?")[1].split("&")[0].split("=")[1]:window.location.pathname.replace(".html","").split("/").pop();+t?pegaIdCategoria(t):Api("http://localhost:8888/api/V1/categories/list",puxaDados)}function puxaDados(t){const e=window.location.pathname.replace(".html","").split("/").pop();pegaIdCategoria(t.items.find((t=>t.path===e)).id)}function pegaIdCategoria(t){Api(`http://localhost:8888/api/V1/categories/${t}`,carregaProdutos)}const carregaProdutos=t=>{t.items.forEach((t=>{criaProduto(t)}))},criaProduto=t=>{const e=document.querySelector("#listaProdutos"),i=document.createElement("li");i.classList.add("produto__item"),i.innerHTML=` \n    <a href="./${t.path}" class="item__container">\n\n      <figure><img src="./${t.image}" alt="${t.name}"></figure>\n      <div class="item__info">\n        <h2 class="info__nome">${t.name}</h2>\n        <div class="info__preco">\n          <p class="preco__original">${t.specialPrice?t.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):""}</p>\n          <p class="preco__final">${t.specialPrice?t.specialPrice.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):t.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}</p>\n        </div>\n        <buttom class="info__btn">Comprar</buttom>\n      </div>\n    </a>\n  `,e.appendChild(i)};